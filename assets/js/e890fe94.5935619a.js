"use strict";(self.webpackChunkneon_webdocs=self.webpackChunkneon_webdocs||[]).push([[8142],{236:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>x,frontMatter:()=>l,metadata:()=>a,toc:()=>d});var i=r(5893),c=r(1151);const l={toc_max_heading_level:2},s="Loader",a={id:"neon/configuration/loader/loader/index",title:"Loader",description:"The loader section contains all the configuration settings of the loader.",source:"@site/docs/neon/configuration/loader/loader/index.md",sourceDirName:"neon/configuration/loader/loader",slug:"/neon/configuration/loader/loader/",permalink:"/neon-webdocs/neon/configuration/loader/loader/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{toc_max_heading_level:2},sidebar:"docsSidebar",previous:{title:"Overview",permalink:"/neon-webdocs/neon/configuration/loader/overview/"},next:{title:"raw",permalink:"/neon-webdocs/neon/configuration/loader/modules/parsers/raw/"}},o={},d=[{value:"Example configuration",id:"example-configuration",level:2},{value:"Directives",id:"directives",level:2},{value:"<code>execStartup</code>",id:"execStartup",level:3},{value:"<code>execInterval</code>",id:"execInterval",level:3},{value:"<code>execFailsafeInterval</code>",id:"execFailsafeInterval",level:3},{value:"<code>execWorkers</code>",id:"execWorkers",level:3},{value:"<code>execMaxOps</code>",id:"execMaxOps",level:3},{value:"<code>execMaxDelay</code>",id:"execMaxDelay",level:3},{value:"<code>rules</code>",id:"rules",level:3}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"loader",children:"Loader"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"loader"})," section contains all the configuration settings of the ",(0,i.jsx)(n.a,{href:"/neon/configuration/loader/overview/",children:"loader"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"This section is not required to start the server instance."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#example-configuration",children:"Example configuration"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#directives",children:"Directives"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#execStartup",children:(0,i.jsx)(n.code,{children:"execStartup"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#execInterval",children:(0,i.jsx)(n.code,{children:"execInterval"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#execFailsafeInterval",children:(0,i.jsx)(n.code,{children:"execFailsafeInterval"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#execWorkers",children:(0,i.jsx)(n.code,{children:"execWorkers"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#execMaxOps",children:(0,i.jsx)(n.code,{children:"execMaxOps"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#execMaxDelay",children:(0,i.jsx)(n.code,{children:"execMaxDelay"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#rules",children:(0,i.jsx)(n.code,{children:"rules"})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-configuration",children:"Example configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"loader:\n  execStartup: 15\n  execInterval: 900\n  rules:\n    load-resource1:\n      raw:\n        resource:\n          resource1:\n            api:\n              method: GET\n              url: https://<backend_url>/api/v1/resource/1\n    load-resource2:\n      raw:\n        resource:\n          resource2:\n            api:\n              method: GET\n              url: https://<backend_url>/api/v1/resource/2\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The loader is executed 15 seconds after the instance startup and then every 900 seconds."}),"\n",(0,i.jsx)(n.li,{children:"Each execution will process all defined rules."}),"\n",(0,i.jsxs)(n.li,{children:["Both rules ",(0,i.jsx)(n.strong,{children:"load-resource1"})," and ",(0,i.jsx)(n.strong,{children:"load-resource2"})," use the ",(0,i.jsx)(n.code,{children:"raw"})," parser which triggers the provider ",(0,i.jsx)(n.strong,{children:"api"})," to fetch the resources ",(0,i.jsx)(n.strong,{children:"resource1"})," and ",(0,i.jsx)(n.strong,{children:"resource2"})," and to store/refresh them into the server state."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"directives",children:"Directives"}),"\n",(0,i.jsx)(n.h3,{id:"execStartup",children:(0,i.jsx)(n.code,{children:"execStartup"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         execStartup: <delay>\n    Type:           numeric\n    Unit:           second\n    Default:        15\n    Minimum:        1\n"})}),"\n",(0,i.jsx)(n.p,{children:"The execution startup delay."}),"\n",(0,i.jsx)(n.h3,{id:"execInterval",children:(0,i.jsx)(n.code,{children:"execInterval"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         execInterval: <delay>\n    Type:           numeric\n    Unit:           second\n    Default:        900\n    Minimum:        1\n"})}),"\n",(0,i.jsx)(n.p,{children:"The execution interval delay."}),"\n",(0,i.jsx)(n.h3,{id:"execFailsafeInterval",children:(0,i.jsx)(n.code,{children:"execFailsafeInterval"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         execFailsafeInterval: <delay>\n    Type:           numeric\n    Unit:           second\n    Default:        300\n    Minimum:        0 (disabled)\n"})}),"\n",(0,i.jsx)(n.p,{children:"The execution interval delay when failsafe mode is enabled."}),"\n",(0,i.jsx)(n.p,{children:"The failsafe mode is enabled when at least one rule has failed during the last execution. The next execution will use this shorter interval time to execute and to try to recover quickly. The failsafe mode is disabled next to a succeeded execution of all rules."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["The interval must be lesser than ",(0,i.jsx)(n.a,{href:"#execInterval",children:(0,i.jsx)(n.code,{children:"execInterval"})}),"."]})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"To disable the failsafe mode, sets the value to 0."})}),"\n",(0,i.jsx)(n.h3,{id:"execWorkers",children:(0,i.jsx)(n.code,{children:"execWorkers"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         execWorkers: <count>\n    Type:           numeric\n    Unit:           -\n    Default:        1\n    Minimum:        1\n"})}),"\n",(0,i.jsx)(n.p,{children:"The number of execution workers."}),"\n",(0,i.jsx)(n.h3,{id:"execMaxOps",children:(0,i.jsx)(n.code,{children:"execMaxOps"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         execMaxOps: <count>\n    Type:           numeric\n    Unit:           -\n    Default:        100\n    Minimum:        0 (disabled)\n"})}),"\n",(0,i.jsx)(n.p,{children:"The maximum number of operations per execution before delaying."}),"\n",(0,i.jsx)(n.p,{children:"This setting prevents any excessive CPU usage of the instance as well as to any backend services."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"To disable this limit, sets the value to 0."})}),"\n",(0,i.jsx)(n.h3,{id:"execMaxDelay",children:(0,i.jsx)(n.code,{children:"execMaxDelay"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         execMaxDelay: <count>\n    Type:           numeric\n    Unit:           op\n    Default:        60\n    Minimum:        0 (disabled)\n"})}),"\n",(0,i.jsx)(n.p,{children:"The interval delay in seconds between each delayed execution."}),"\n",(0,i.jsxs)(n.p,{children:["This interval is the period of time between each batch of ",(0,i.jsx)(n.a,{href:"#execMaxOps",children:(0,i.jsx)(n.code,{children:"execMaxOps"})})," operations."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"To disable this limit, sets the value to 0."})}),"\n",(0,i.jsx)(n.h3,{id:"rules",children:(0,i.jsx)(n.code,{children:"rules"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    Syntax:         rules:\n    Type:           map\n    Map key:        string\n    Map value:      object\n    Default:        -\n"})}),"\n",(0,i.jsx)(n.p,{children:"This map defines all the loading rules."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"rules:\n  posts-list:\n    json:\n      # parser configuration\n"})})]})}function x(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>s});var i=r(7294);const c={},l=i.createContext(c);function s(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);