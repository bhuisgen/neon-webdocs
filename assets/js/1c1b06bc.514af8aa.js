"use strict";(self.webpackChunkneon_webdocs=self.webpackChunkneon_webdocs||[]).push([[8333],{1834:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var s=r(4848),t=r(8453);const o={displayed_sidebar:"docsSidebar",hide_table_of_contents:!0,sidebar_position:3},a="Examples",i={id:"neon/api/examples/index",title:"Examples",description:"Render page",source:"@site/docs/neon/api/examples/index.md",sourceDirName:"neon/api/examples",slug:"/neon/api/examples/",permalink:"/neon-webdocs/neon/api/examples/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{displayed_sidebar:"docsSidebar",hide_table_of_contents:!0,sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Server",permalink:"/neon-webdocs/neon/api/objects/Server/"},next:{title:"Overview",permalink:"/neon-webdocs/neon/samples/overview/"}},d={},c=[{value:"Render page",id:"render-page",level:2},{value:"Render page with SEO",id:"render-page-with-seo",level:2},{value:"Read the server state",id:"read-the-server-state",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h2,{id:"render-page",children:"Render page"}),"\n",(0,s.jsx)(n.p,{children:"To render a server-side page:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import { Server } from "./neon";\n\ndeclare let server: Server;\n\nconst root = `\n  <main>\n    <p>Hello World!</p>\n  </main>\n`;\n\nserver.response.render(root, 200);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"render-page-with-seo",children:"Render page with SEO"}),"\n",(0,s.jsx)(n.p,{children:"To render a server-side page with SEO markups:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import { Server } from "./neon";\n\ndeclare let server: Server;\n\nconst root = `\n  <main>\n    <p>Hello World!</p>\n  </main>\n`;\n\nserver.response.render(root, 200);\n\nserver.response.setTitle("My Application");\nserver.response.setLink("canonical",\n new Map([\n    ["rel": "canonical"],\n    ["href": `https://${$server.request.host()}/{server.request.requestPath()}`],\n  ])\n);\nserver.response.setMeta(\n  "description",\n  new Map([\n    ["name", "description"],\n    ["content", "My page description"],\n  ])\n);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"read-the-server-state",children:"Read the server state"}),"\n",(0,s.jsx)(n.p,{children:"To read the server state of resources from the application:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import { Server } from "./server";\nimport { State } from "./store";\n\ndeclare let server: Server;\n\nlet state: State = {\n  test: {},\n};\n\nconst serverState = server.handler.state();\nif (serverState) {\n  for (const [key, resource] of Object.entries<Resource>(serverState)) {\n    if (resource.error || !resource.data) {\n      continue;\n    }\n    switch (key) {\n      case "test":\n        appState.test = JSON.parse(resource.data[0]);\n        break;\n    }\n  }\n}\n\nconst root = `\n  <main>\n    <p>Test: ${state.test}</p>\n  </main>\n`;\n\nserver.response.render(root, 200);\n'})})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var s=r(6540);const t={},o=s.createContext(t);function a(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);