"use strict";(self.webpackChunkneon_webdocs=self.webpackChunkneon_webdocs||[]).push([[8142],{236:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>t,toc:()=>o});var r=i(5893),s=i(1151);const l={toc_max_heading_level:2},c="Loader",t={id:"neon/configuration/loader/loader/index",title:"Loader",description:"The loader section contains all the configuration settings of the loader.",source:"@site/docs/neon/configuration/loader/loader/index.md",sourceDirName:"neon/configuration/loader/loader",slug:"/neon/configuration/loader/loader/",permalink:"/neon-webdocs/neon/configuration/loader/loader/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{toc_max_heading_level:2},sidebar:"docsSidebar",previous:{title:"Overview",permalink:"/neon-webdocs/neon/configuration/loader/overview/"},next:{title:"raw",permalink:"/neon-webdocs/neon/configuration/loader/modules/parsers/raw/"}},a={},o=[{value:"Example configuration",id:"example-configuration",level:2},{value:"Directives",id:"directives",level:2},{value:"<code>execStartup</code>",id:"execStartup",level:3},{value:"<code>execInterval</code>",id:"execInterval",level:3},{value:"<code>execFailsafeInterval</code>",id:"execFailsafeInterval",level:3},{value:"<code>execWorkers</code>",id:"execWorkers",level:3},{value:"<code>execMaxOps</code>",id:"execMaxOps",level:3},{value:"<code>execMaxDelay</code>",id:"execMaxDelay",level:3},{value:"<code>rules</code>",id:"rules",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"loader",children:"Loader"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"loader"})," section contains all the configuration settings of the ",(0,r.jsx)(n.a,{href:"/neon/configuration/loader/overview/",children:"loader"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#example-configuration",children:"Example configuration"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#directives",children:"Directives"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#execStartup",children:(0,r.jsx)(n.code,{children:"execStartup"})})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#execInterval",children:(0,r.jsx)(n.code,{children:"execInterval"})})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#execFailsafeInterval",children:(0,r.jsx)(n.code,{children:"execFailsafeInterval"})})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#execWorkers",children:(0,r.jsx)(n.code,{children:"execWorkers"})})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#execMaxOps",children:(0,r.jsx)(n.code,{children:"execMaxOps"})})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#execMaxDelay",children:(0,r.jsx)(n.code,{children:"execMaxDelay"})})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#rules",children:(0,r.jsx)(n.code,{children:"rules"})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-configuration",children:"Example configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"loader:\n  execStartup: 15\n  execInterval: 900\n  rules:\n    load-resource1:\n      raw:\n        resource:\n          resource1:\n            api:\n              method: GET\n              url: https://<backend_url>/api/v1/resource/1\n    load-resource2:\n      raw:\n        resource:\n          resource2:\n            api:\n              method: GET\n              url: https://<backend_url>/api/v1/resource/2\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The loader is executed 15 seconds after the instance startup and then every 900 seconds."}),"\n",(0,r.jsx)(n.li,{children:"Each execution will process all defined rules."}),"\n",(0,r.jsxs)(n.li,{children:["Both rules ",(0,r.jsx)(n.strong,{children:"load-resource1"})," and ",(0,r.jsx)(n.strong,{children:"load-resource2"})," use the ",(0,r.jsx)(n.code,{children:"raw"})," parser which triggers the provider ",(0,r.jsx)(n.strong,{children:"api"})," to fetch the resources ",(0,r.jsx)(n.strong,{children:"resource1"})," and ",(0,r.jsx)(n.strong,{children:"resource2"})," and to store/refresh them into the server state."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"directives",children:"Directives"}),"\n",(0,r.jsx)(n.h3,{id:"execStartup",children:(0,r.jsx)(n.code,{children:"execStartup"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         execStartup: <delay>\n    Type:           numeric\n    Unit:           second\n    Minimum:        0 (disabled)\n    Default:        15\n"})}),"\n",(0,r.jsx)(n.p,{children:"The time interval in seconds between the instance startup and the first execution."}),"\n",(0,r.jsx)(n.p,{children:"This option allows to set a minimal time interval to execute rules at startup."}),"\n",(0,r.jsxs)(n.p,{children:["If this option is enabled and the ",(0,r.jsx)(n.a,{href:"#execInterval",children:(0,r.jsx)(n.code,{children:"execInterval"})})," option is disabled, the instance will run in ",(0,r.jsx)(n.em,{children:"one-off"})," execution: only one execution will be processed. If this single execution is not successful, the failsafe execution if enabled will still recover the state before stopping any other execution."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"To disable the startup execution, sets the value to 0."})}),"\n",(0,r.jsx)(n.h3,{id:"execInterval",children:(0,r.jsx)(n.code,{children:"execInterval"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         execInterval: <delay>\n    Type:           numeric\n    Unit:           second\n    Minimum:        0 (disabled)\n    Default:        900\n"})}),"\n",(0,r.jsx)(n.p,{children:"The time interval in seconds between each execution after the first startup execution."}),"\n",(0,r.jsx)(n.p,{children:"If this option is enabled, the rules will be periodically executed to refresh the server state."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"To disable periodic execution, sets the value to 0."})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["If this option and the ",(0,r.jsx)(n.a,{href:"#execStartup",children:(0,r.jsx)(n.code,{children:"execStartup"})})," option are both set to 0, no execution will be processed."]})}),"\n",(0,r.jsx)(n.h3,{id:"execFailsafeInterval",children:(0,r.jsx)(n.code,{children:"execFailsafeInterval"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         execFailsafeInterval: <delay>\n    Type:           numeric\n    Unit:           second\n    Minimum:        0 (disabled)\n    Default:        300\n"})}),"\n",(0,r.jsx)(n.p,{children:"The time interval in seconds between a failed execution and a new execution."}),"\n",(0,r.jsx)(n.p,{children:"The failsafe execution is activated when at least one rule has failed. The next execution will use this specific time interval to try to recover quickly (shorter interval) or to stay safe from external issues (longer interval). The failsafe execution only disables when all rules pass."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"To disable the failsafe execution, sets the value to 0."})}),"\n",(0,r.jsx)(n.h3,{id:"execWorkers",children:(0,r.jsx)(n.code,{children:"execWorkers"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         execWorkers: <count>\n    Type:           numeric\n    Minimum:        1\n    Default:        1\n"})}),"\n",(0,r.jsx)(n.p,{children:"The number of execution workers."}),"\n",(0,r.jsx)(n.h3,{id:"execMaxOps",children:(0,r.jsx)(n.code,{children:"execMaxOps"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         execMaxOps: <count>\n    Type:           numeric\n    Minimum:        0 (disabled)\n    Default:        100\n"})}),"\n",(0,r.jsx)(n.p,{children:"The maximum number of operations per execution before delaying."}),"\n",(0,r.jsx)(n.p,{children:"This setting prevents any excessive CPU usage of the instance as well as to any backend services."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"To disable this limit, sets the value to 0."})}),"\n",(0,r.jsx)(n.h3,{id:"execMaxDelay",children:(0,r.jsx)(n.code,{children:"execMaxDelay"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         execMaxDelay: <delay>\n    Type:           numeric\n    Unit:           second\n    Minimum:        0 (disabled)\n    Default:        60\n"})}),"\n",(0,r.jsx)(n.p,{children:"The interval delay in seconds between each delayed execution."}),"\n",(0,r.jsxs)(n.p,{children:["This interval is the period of time between each batch of ",(0,r.jsx)(n.a,{href:"#execMaxOps",children:(0,r.jsx)(n.code,{children:"execMaxOps"})})," operations."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"To disable this limit, sets the value to 0."})}),"\n",(0,r.jsx)(n.h3,{id:"rules",children:(0,r.jsx)(n.code,{children:"rules"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"    Syntax:         rules:\n    Type:           map\n    Map key:        string\n    Map value:      object\n    Default:        -\n"})}),"\n",(0,r.jsx)(n.p,{children:"This map defines all the loading rules."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"rules:\n  loads-posts:\n    json:\n      # parser configuration\n"})})]})}function x(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>t,a:()=>c});var r=i(7294);const s={},l=r.createContext(s);function c(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);